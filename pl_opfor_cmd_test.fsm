/*%FSM<COMPILE "scriptedFSM.cfg, pl_opfor_cmd_test.fsm">*/
/*%FSM<HEAD>*/
/*
item0[] = {"Start",0,250,-491.997406,-653.206299,-401.997406,-603.206360,0.000000,"Start"};
item1[] = {"has_wp",4,218,-451.086426,-508.194519,-361.086426,-458.194519,2.000000,"has wp"};
item2[] = {"advance",2,250,-417.268311,-138.438263,-327.268280,-88.438263,0.000000,"advance"};
item3[] = {"no_wp",4,218,-602.131836,-530.615295,-512.131836,-480.615234,2.000000,"no wp"};
item4[] = {"enemy___150m",4,218,133.981171,-123.920929,223.981171,-73.920959,4.000000,"enemy < 150m"};
item5[] = {"cassualty",4,218,159.932526,-43.371628,249.932526,6.628372,3.000000,"cassualty"};
item6[] = {"__x_Suppression",4,218,60.564484,-33.126434,150.564484,16.873566,2.000000,"2x Suppression " \n "> 0.4"};
item7[] = {"below__breackingpoint",4,218,139.631195,550.734375,229.631195,600.734314,10.000000,"below " \n "breackingpoint?"};
item8[] = {"END",1,250,141.507965,675.160706,231.507996,725.160583,0.000000,"END"};
item9[] = {"random_Delay",4,218,-302.787628,34.871460,-212.787659,84.871460,0.000000,"random Delay"};
item10[] = {"panic_reaction",2,250,35.847443,61.751373,125.847458,111.751373,0.000000,"panic reaction"};
item11[] = {"dynamic__cover_a",2,250,373.084656,-116.737923,463.084717,-66.737885,0.000000,"dynamic " \n "cover" \n "atk"};
item12[] = {"in_Cover_Positio",2,250,-784.112976,-291.827576,-694.113098,-241.827545,0.000000,"in Cover" \n "Position"};
item13[] = {"Suppression_Loop",2,250,-789.485962,-115.721710,-699.485901,-65.721710,0.000000,"Suppression" \n "Loop"};
item14[] = {"check_for__Cover",2,250,2.904327,-139.039856,92.904358,-89.039856,0.000000,"check for " \n "Cover Condition"};
item15[] = {"random_Delay",4,218,377.072205,61.115143,467.072205,111.115143,0.000000,"random Delay"};
item16[] = {"in_assault__poss",2,250,532.030396,67.865723,622.030457,117.865723,0.000000,"in assault" \n " possition"};
item17[] = {"suppression____0_1",4,218,607.790039,-21.591415,697.790039,28.408585,1.000000,"suppression" \n " > 0.4"};
item18[] = {"suppression____0",4,218,540.117737,247.804352,630.117981,297.804352,2.000000,"suppression" \n " < 0.4"};
item19[] = {"Suppression",2,250,543.964355,-107.989761,633.964417,-57.989670,0.000000,"Suppression"};
item20[] = {"random_Delay",4,218,495.331421,-21.553452,585.331421,28.446548,0.000000,"random Delay"};
item21[] = {"assault__enemy",2,250,543.988464,346.729095,633.988464,396.729095,0.000000,"assault " \n "enemy"};
item22[] = {"assault_pos_reac",4,218,360.757385,347.110107,450.757385,397.110107,0.000000,"assault pos" \n "reached"};
item23[] = {"fighting",2,250,209.881897,352.557159,299.881409,402.557159,0.000000,"fighting"};
item24[] = {"enemy___50m",4,218,60.380920,164.892090,150.380920,214.892090,2.000000,"enemy > 50m"};
item25[] = {"Path__disabled",4,218,-869.442688,-395.083374,-779.442566,-345.083374,0.000000,"Path " \n "disabled"};
item26[] = {"Stationary",2,250,-790.217957,-488.880615,-700.217957,-438.880585,0.000000,"Stationary"};
item27[] = {"Path__enabled",4,218,-705.029724,-396.507477,-615.029724,-346.507477,0.000000,"Path " \n "enabled"};
item28[] = {"dynamic_Cover_de",2,250,83.006470,-419.792175,173.006622,-369.792114,0.000000,"dynamic" \n "Cover def"};
item29[] = {"panicCount___2",4,218,78.664948,-210.695129,168.664948,-160.695099,5.000000,"panicCount > 2"};
item30[] = {"delay",4,218,173.642975,-493.291046,263.643097,-443.291382,1.000000,"delay"};
item31[] = {"Suppression_Loop_1",2,250,245.705536,-414.012817,335.705597,-364.012817,0.000000,"Suppression" \n "Loop"};
item32[] = {"Return",8,218,186.363892,-345.821655,276.363892,-295.821686,0.000000,"Return"};
item33[] = {"PanicTimeout",4,218,78.422791,-568.039001,168.422791,-518.039185,2.000000,"PanicTimeout"};
item34[] = {"delay",4,218,-731.214172,-203.219299,-641.214233,-153.219299,0.000000,"delay"};
item35[] = {"delay",4,218,-158.195541,-189.946976,-68.195526,-139.946976,1.000000,"delay"};
item36[] = {"True",8,218,-51.018188,-27.191620,38.981812,22.808380,0.000000,"True"};
item37[] = {"Cover_Loop",2,250,-146.077454,-110.827072,-56.077423,-60.827072,0.000000,"Cover" \n "Loop"};
item38[] = {"Return",8,218,-864.691345,-211.111145,-774.691345,-161.111145,0.000000,"Return"};
item39[] = {"no_wp",4,218,-11.224731,-224.860443,78.775269,-174.860382,1.000000,"no wp"};
item40[] = {"position__reache",2,250,-77.862213,-315.486053,12.137787,-265.486053,0.000000,"position " \n "reached"};
item41[] = {"Combat_Mode",4,218,-195.688873,-252.217773,-105.688873,-202.217773,0.000000,"Combat" \n "Mode"};
item42[] = {"Start_Move",2,250,-96.833710,-564.950806,-6.833679,-514.950867,0.000000,"Start Move"};
item43[] = {"flankPos_reached",4,218,409.320313,-601.593994,499.320313,-551.593994,0.000000,"flankPos" \n "reached"};
item44[] = {"CQB_Loop",2,250,219.421600,161.341187,309.421631,211.341187,0.000000,"CQB Loop"};
item45[] = {"Delay",4,218,156.223480,257.387726,246.223480,307.387726,0.000000,"Delay"};
item46[] = {"True",8,218,289.995758,249.791138,379.995758,299.791138,0.000000,"True"};
item47[] = {"flanking",4,218,-101.167664,-695.450378,-11.167664,-645.450562,3.000000,"flanking"};
item48[] = {"Start_Flanking_M",2,250,276.970856,-701.654541,366.970886,-651.654480,0.000000,"Start Flanking" \n "Move"};
item49[] = {"no_flanking_move",4,218,-162.510132,-483.683350,-73.435242,-433.683319,1.000000,"no flanking" \n "move"};
item50[] = {"no_flanking_stay",4,218,-44.510742,-492.005829,45.489258,-442.005829,2.000000,"no flanking" \n "stay"};
link0[] = {0,1};
link1[] = {0,3};
link2[] = {1,2};
link3[] = {2,3};
link4[] = {2,35};
link5[] = {3,26};
link6[] = {4,11};
link7[] = {5,10};
link8[] = {6,10};
link9[] = {7,8};
link10[] = {9,2};
link11[] = {10,9};
link12[] = {11,15};
link13[] = {12,1};
link14[] = {12,7};
link15[] = {12,34};
link16[] = {13,38};
link17[] = {14,4};
link18[] = {14,5};
link19[] = {14,6};
link20[] = {14,29};
link21[] = {14,36};
link22[] = {14,39};
link23[] = {15,16};
link24[] = {16,7};
link25[] = {16,17};
link26[] = {16,18};
link27[] = {17,19};
link28[] = {18,21};
link29[] = {19,20};
link30[] = {20,16};
link31[] = {21,7};
link32[] = {21,22};
link33[] = {22,23};
link34[] = {23,45};
link35[] = {24,2};
link36[] = {25,12};
link37[] = {26,25};
link38[] = {26,27};
link39[] = {27,12};
link40[] = {28,7};
link41[] = {28,30};
link42[] = {28,33};
link43[] = {29,28};
link44[] = {30,31};
link45[] = {31,32};
link46[] = {32,28};
link47[] = {33,42};
link48[] = {34,13};
link49[] = {35,14};
link50[] = {36,37};
link51[] = {37,7};
link52[] = {37,35};
link53[] = {38,12};
link54[] = {39,40};
link55[] = {40,41};
link56[] = {41,2};
link57[] = {42,47};
link58[] = {42,49};
link59[] = {42,50};
link60[] = {43,11};
link61[] = {44,7};
link62[] = {44,24};
link63[] = {44,46};
link64[] = {45,44};
link65[] = {46,23};
link66[] = {47,48};
link67[] = {48,7};
link68[] = {48,43};
link69[] = {49,2};
link70[] = {50,28};
globals[] = {0.000000,0,0,0,0,640,480,1,97,6316128,1,-1258.379272,145.071472,398.312592,-729.525269,1548,1244,1};
window[] = {2,-1,-1,-1,-1,1045,286,1726,286,3,1566};
*//*%FSM</HEAD>*/
class FSM
{
        fsmName = "pl_opfor_cmd_test.fsm";
        class States
        {
                /*%FSM<STATE "Start">*/
                class Start
                {
                        name = "Start";
                        itemno = 0;
                        init = /*%FSM<STATEINIT""">*/"private [""_side"", ""_breakingPoint"", ""_lastWaypointPos"", ""_time"",""_markerName"", ""_flanked"", ""_sideColor"", ""_flankPos"", ""_retreatPos"", ""_oldAliveUnits"", ""_assaultSuppressionCycles"", ""_panicCoverCount"", ""_panicTimeout"", ""_starUnitCount""];" \n
                         "_grp = _this;" \n
                         "_retreatPos = getPos (leader _grp);" \n
                         "_oldAliveUnits = count (units _grp);" \n
                         "_suppressionCycles  = 0;" \n
                         "_panicCoverCount = 0;" \n
                         "_panicTimeout = 0;" \n
                         "_startUnitCount = count (units _grp);" \n
                         "_breakingPoint = round (_startUnitCount * 0.33);" \n
                         "_allowFlanking = true;" \n
                         "_lastWaypointPos = waypointPosition ((waypoints _grp) select (currentWaypoint _grp));" \n
                         "_markerName = format [""%1_opfor_marker"", groupId _grp];" \n
                         "_side = side (leader _grp);" \n
                         "_grp setVariable [""pl_opfor_marker_Name"", _markerName];" \n
                         "switch (_side) do { " \n
                         "    case west : {_sideColor = ""colorBlufor""}; " \n
                         "    case east : {_sideColor = ""colorOpfor""};" \n
                         "    case resistance : {_sideColor = ""colorIndependent""};" \n
                         "    default {_sideColor = ""colorBlufor""}; " \n
                         "};" \n
                         "_time = time + 3;" \n
                         "" \n
                         "if (pl_debug) then {" \n
                         "    systemchat format [""%1: start Opfor"", groupId _grp];" \n
                         "	[_grp] spawn pl_opfor_ai_helper_debug;" \n
                         "};" \n
                         "" \n
                         "	" \n
                         "" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "no_wp">*/
                                class no_wp
                                {
                                        itemno = 3;
                                        priority = 2.000000;
                                        to="Stationary";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(currentWaypoint _grp) >= count (waypoints _grp) and time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "has_wp">*/
                                class has_wp
                                {
                                        itemno = 1;
                                        priority = 2.000000;
                                        to="advance";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(currentWaypoint _grp) < count (waypoints _grp)"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"{_x enableAI ""PATH""} forEach (units _grp);"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "advance">*/
                class advance
                {
                        name = "advance";
                        itemno = 2;
                        init = /*%FSM<STATEINIT""">*/"[_grp] call pl_opfor_advance;" \n
                         "_grp setVariable [""pl_opf_task"", ""advance""];" \n
                         "_time = time + 10;" \n
                         "" \n
                         "if (pl_debug) then {" \n
                         "    systemchat format [""%1: advance"", groupId _grp];" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "no_wp">*/
                                class no_wp
                                {
                                        itemno = 3;
                                        priority = 2.000000;
                                        to="Stationary";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(currentWaypoint _grp) >= count (waypoints _grp) and time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "delay">*/
                                class delay
                                {
                                        itemno = 35;
                                        priority = 1.000000;
                                        to="check_for__Cover";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _time and !(_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "END">*/
                class END
                {
                        name = "END";
                        itemno = 8;
                        init = /*%FSM<STATEINIT""">*/"if (pl_debug) then {" \n
                         "	systemchat format [""%1: joining Group"", groupId _grp];" \n
                         "};" \n
                         "if !(_grp getVariable [""pl_opfor_retreat"", false]) then {" \n
                         "	_joined = [_grp, _side] call pl_opfor_join_grp;" \n
                         "	if !(_joined) then {" \n
                         "		[_grp] spawn pl_opfor_surrender;" \n
                         "	};" \n
                         "} else {" \n
                         "	_grp setVariable [""pl_opfor_retreat"", nil];" \n
                         "};" \n
                         "" \n
                         "deleteMarker _markerName;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "panic_reaction">*/
                class panic_reaction
                {
                        name = "panic_reaction";
                        itemno = 10;
                        init = /*%FSM<STATEINIT""">*/"if ((random 1) > 0.35) then {" \n
                         "	[_grp] call pl_opfor_panic_cover;" \n
                         "	_grp setVariable [""pl_opf_task"", ""cover""];" \n
                         "	if (pl_debug) then {" \n
                         "		systemchat format [""%1: panic_cover"", groupId _grp];" \n
                         "	};" \n
                         "} else {" \n
                         "	[_grp] call pl_opfor_suppress; " \n
                         "	_grp setVariable [""pl_opf_task"", ""suppress""];" \n
                         "	if (pl_debug) then {" \n
                         "		systemchat format [""%1: panic_suppression"", groupId _grp];" \n
                         "	};" \n
                         "};" \n
                         "_grp setVariable [""pl_opf_state"", ""combat""];" \n
                         "_panicCoverCount = _panicCoverCount + 1;" \n
                         "" \n
                         "_alliedVics = ((getPos (leader _grp)) nearEntities [[""Car"", ""Tank""], 300]) select {_x getVariable [""pl_ready_to_sup"", false]};" \n
                         "" \n
                         "if (!(_alliedVics isEqualto []) and !(_grp getVariable [""pl_opf_cargo_inf"", false])) then {" \n
                         "	_ally = ([_alliedVics, [], {(leader _grp) distance2D _x}, ""ASCEND""] call BIS_fnc_sortBy)#0;" \n
                         "	_ally setVariable [""pl_to_support_grp"", _grp];" \n
                         "};" \n
                         "" \n
                         "" \n
                         "_time = time + ([10, 20] call BIS_fnc_randomInt);"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "random_Delay">*/
                                class random_Delay
                                {
                                        itemno = 9;
                                        priority = 0.000000;
                                        to="advance";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "dynamic__cover_a">*/
                class dynamic__cover_a
                {
                        name = "dynamic__cover_a";
                        itemno = 11;
                        init = /*%FSM<STATEINIT""">*/"[_grp] call pl_opfor_dynamic_cover;" \n
                         "[_grp, ""marker_afp"", getPos (leader _grp), getDir (leader _grp), _sideColor] call pl_opfor_create_marker;" \n
                         "if (pl_debug) then {" \n
                         "	 systemchat format [""%1: cover_assault"", groupId _grp];" \n
                         "};" \n
                         "_grp setVariable [""pl_opf_task"", ""cover""];" \n
                         "" \n
                         "_time = time + ([20, 25] call BIS_fnc_randomInt);"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "random_Delay">*/
                                class random_Delay
                                {
                                        itemno = 15;
                                        priority = 0.000000;
                                        to="in_assault__poss";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "in_Cover_Positio">*/
                class in_Cover_Positio
                {
                        name = "in_Cover_Positio";
                        itemno = 12;
                        init = /*%FSM<STATEINIT""">*/"_time = time + 60;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "has_wp">*/
                                class has_wp
                                {
                                        itemno = 1;
                                        priority = 2.000000;
                                        to="advance";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(currentWaypoint _grp) < count (waypoints _grp)"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"{_x enableAI ""PATH""} forEach (units _grp);"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "delay">*/
                                class delay
                                {
                                        itemno = 34;
                                        priority = 0.000000;
                                        to="Suppression_Loop";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time > _time"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Suppression_Loop">*/
                class Suppression_Loop
                {
                        name = "Suppression_Loop";
                        itemno = 13;
                        init = /*%FSM<STATEINIT""">*/"" \n
                         "if (count (((getPos (leader _grp)) nearEntities [[""Man""], 500]) select {side _x == playerSide and ((leader _grp) knowsAbout _x) > 1}) > 0) then {" \n
                         "	[_grp] call pl_opfor_suppress;" \n
                         "	_grp setVariable [""pl_opf_state"", ""combat""];" \n
                         "	_grp setVariable [""pl_opf_task"", ""suppress""];" \n
                         "	if (pl_debug) then {" \n
                         "    	systemchat format [""%1: static_suppress"", groupId _grp];" \n
                         "	};" \n
                         "} else {" \n
                         "	_grp setVariable [""pl_opf_state"", ""static""];" \n
                         "};" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Return">*/
                                class Return
                                {
                                        itemno = 38;
                                        priority = 0.000000;
                                        to="in_Cover_Positio";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "check_for__Cover">*/
                class check_for__Cover
                {
                        name = "check_for__Cover";
                        itemno = 14;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "panicCount___2">*/
                                class panicCount___2
                                {
                                        itemno = 29;
                                        priority = 5.000000;
                                        to="dynamic_Cover_de";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_panicCoverCount >= 1 or count (units _grp) < (round (_startUnitCount / 2) + 2);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"" \n
                                         "[_grp] call pl_opfor_dynamic_cover;" \n
                                         "[_grp, ""marker_sfp"", getPos (leader _grp), getDir (leader _grp), _sideColor] call pl_opfor_create_marker;" \n
                                         "" \n
                                         "if (pl_debug) then {" \n
                                         "    systemchat format [""%1: cover_perm"", groupId _grp];" \n
                                         "};" \n
                                         "_grp setVariable [""pl_opf_task"", ""cover""];" \n
                                         "_panicTimeout = time + 240;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "enemy___150m">*/
                                class enemy___150m
                                {
                                        itemno = 4;
                                        priority = 4.000000;
                                        to="dynamic__cover_a";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count (((getPos (leader _grp)) nearEntities [[""Man""], 150]) select {side _x == playerSide and ((leader _grp) knowsAbout _x) > 0}) > 0;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_flanked = false;" \n
                                         "_grp setVariable [""pl_opf_state"", ""combat""];"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "cassualty">*/
                                class cassualty
                                {
                                        itemno = 5;
                                        priority = 3.000000;
                                        to="panic_reaction";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_oldAliveUnits > count ((units _grp) select {alive _x});"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_oldAliveUnits = count ((units _grp) select {alive _x});" \n
                                         "" \n
                                         ""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "__x_Suppression">*/
                                class __x_Suppression
                                {
                                        itemno = 6;
                                        priority = 2.000000;
                                        to="panic_reaction";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/"_treshhold = (count (units _grp)) * 0.35;"/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {getSuppression _x > 0.2}) > 1;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "no_wp">*/
                                class no_wp
                                {
                                        itemno = 39;
                                        priority = 1.000000;
                                        to="position__reache";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(currentWaypoint _grp) >= count (waypoints _grp);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "True">*/
                                class True
                                {
                                        itemno = 36;
                                        priority = 0.000000;
                                        to="Cover_Loop";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "in_assault__poss">*/
                class in_assault__poss
                {
                        name = "in_assault__poss";
                        itemno = 16;
                        init = /*%FSM<STATEINIT""">*/"" \n
                         "_grp setVariable [""pl_opf_task"", ""cover""];" \n
                         "if (pl_debug) then {" \n
                         "	systemchat format [""%1: in assault_Pos"", groupId _grp];" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "suppression____0">*/
                                class suppression____0
                                {
                                        itemno = 18;
                                        priority = 2.000000;
                                        to="assault__enemy";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/"_treshhold = (count (units _grp)) * 0.35;"/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(count ((units _grp) select {getSuppression _x > 0.4}) <= 1 and _suppressionCycles >= 1) or _suppressionCycles >= 3;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_suppressionCycles = 0;" \n
                                         "deleteMarker _markerName;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "suppression____0_1">*/
                                class suppression____0_1
                                {
                                        itemno = 17;
                                        priority = 1.000000;
                                        to="Suppression";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/"_treshhold = (count (units _grp)) * 0.35;"/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {getSuppression _x > 0.4}) > 1 or _suppressionCycles == 0;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Suppression">*/
                class Suppression
                {
                        name = "Suppression";
                        itemno = 19;
                        init = /*%FSM<STATEINIT""">*/"[_grp] call pl_opfor_suppress;" \n
                         "_grp setVariable [""pl_opf_task"", ""suppress""];" \n
                         "_suppressionCycles = _suppressionCycles + 1;" \n
                         "" \n
                         "_time = time + ([20, 35] call BIS_fnc_randomInt);" \n
                         "" \n
                         "if (pl_debug) then {" \n
                         "	systemchat format [""%1: assault_suppress"", groupId _grp];" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "random_Delay">*/
                                class random_Delay
                                {
                                        itemno = 20;
                                        priority = 0.000000;
                                        to="in_assault__poss";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"systemchat format [""%1: in assault_Pos"", groupId _grp];" \n
                                         "_grp setVariable [""pl_opf_task"", ""cover""];"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "assault__enemy">*/
                class assault__enemy
                {
                        name = "assault__enemy";
                        itemno = 21;
                        init = /*%FSM<STATEINIT""">*/"_assaultPos = [_grp] call pl_opfor_assault;" \n
                         "_markerDir = (leader _grp) getDir _assaultPos;" \n
                         "_markerPos = (getPos (leader _grp)) getPos [30, _markerDir];" \n
                         "[_grp, ""marker_std_atk"", _markerPos, _markerDir, _sideColor] call pl_opfor_create_marker;" \n
                         "" \n
                         "_grp setVariable [""pl_opf_task"", ""assault""];" \n
                         "if (pl_debug) then {" \n
                         "	systemchat format [""%1: assaulting"", groupId _grp];" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "assault_pos_reac">*/
                                class assault_pos_reac
                                {
                                        itemno = 22;
                                        priority = 0.000000;
                                        to="fighting";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {(_x distance2D _assaultPos) < 15}) > 0;" \n
                                         "deleteMarker _markerName;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"[_grp] call pl_opfor_cqb;" \n
                                         "private _cqbTimeout = time + 180;" \n
                                         "" \n
                                         "_grp setVariable [""pl_opf_task"", ""assault""];" \n
                                         "if (pl_debug) then {" \n
                                         "	systemchat format [""%1: assaulting_cqb"", groupId _grp];" \n
                                         "};"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "fighting">*/
                class fighting
                {
                        name = "fighting";
                        itemno = 23;
                        init = /*%FSM<STATEINIT""">*/"_time = time + 3"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Delay">*/
                                class Delay
                                {
                                        itemno = 45;
                                        priority = 0.000000;
                                        to="CQB_Loop";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Stationary">*/
                class Stationary
                {
                        name = "Stationary";
                        itemno = 26;
                        init = /*%FSM<STATEINIT""">*/"_grp setVariable [""pl_opf_state"", ""static""];"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Path__enabled">*/
                                class Path__enabled
                                {
                                        itemno = 27;
                                        priority = 0.000000;
                                        to="in_Cover_Positio";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(leader _grp) checkaifeature ""PATH"";"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"[_grp] call pl_opfor_line_cover_static;" \n
                                         "if (pl_debug) then {" \n
                                         "    systemchat format [""%1: static_cover"", groupId _grp];" \n
                                         "};" \n
                                         "" \n
                                         "_grp setVariable [""pl_opf_task"", ""cover""];"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Path__disabled">*/
                                class Path__disabled
                                {
                                        itemno = 25;
                                        priority = 0.000000;
                                        to="in_Cover_Positio";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"!((leader _grp) checkaifeature ""PATH"");"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "dynamic_Cover_de">*/
                class dynamic_Cover_de
                {
                        name = "dynamic_Cover_de";
                        itemno = 28;
                        init = /*%FSM<STATEINIT""">*/"_time = time + 25;" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "PanicTimeout">*/
                                class PanicTimeout
                                {
                                        itemno = 33;
                                        priority = 2.000000;
                                        to="Start_Move";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time > _panicTimeout or _suppressionCycles >= 3;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"deleteMarker _markerName"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "delay">*/
                                class delay
                                {
                                        itemno = 30;
                                        priority = 1.000000;
                                        to="Suppression_Loop_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"" \n
                                         "time > _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Suppression_Loop_1">*/
                class Suppression_Loop_1
                {
                        name = "Suppression_Loop_1";
                        itemno = 31;
                        init = /*%FSM<STATEINIT""">*/"if (count (((getPos (leader _grp)) nearEntities [[""Man""], 500]) select {side _x == playerSide and ((leader _grp) knowsAbout _x) > 1}) > 0) then {" \n
                         "	[_grp] call pl_opfor_suppress;" \n
                         "	_suppressionCycles = _suppressionCycles  +1;" \n
                         "	_grp setVariable [""pl_opf_task"", ""suppress""];" \n
                         "	if (pl_debug) then {" \n
                         "	   systemchat format [""%1: static_suppress"", groupId _grp];" \n
                         "	};" \n
                         "};" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Return">*/
                                class Return
                                {
                                        itemno = 32;
                                        priority = 0.000000;
                                        to="dynamic_Cover_de";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Cover_Loop">*/
                class Cover_Loop
                {
                        name = "Cover_Loop";
                        itemno = 37;
                        init = /*%FSM<STATEINIT""">*/"_time = time + 2;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "delay">*/
                                class delay
                                {
                                        itemno = 35;
                                        priority = 1.000000;
                                        to="check_for__Cover";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _time and !(_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "position__reache">*/
                class position__reache
                {
                        name = "position__reache";
                        itemno = 40;
                        init = /*%FSM<STATEINIT""">*/"{_x enableAI ""AUTOCOMBAT""} forEach (units _grp);" \n
                         "_grp setVariable [""pl_opf_state"", ""moving""];" \n
                         "_allowFlanking = true;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Combat_Mode">*/
                                class Combat_Mode
                                {
                                        itemno = 41;
                                        priority = 0.000000;
                                        to="advance";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"behaviour (leader _grp) == ""COMBAT"";"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"[_grp] call pl_opfor_attack_closest_enemy;"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Start_Move">*/
                class Start_Move
                {
                        name = "Start_Move";
                        itemno = 42;
                        init = /*%FSM<STATEINIT""">*/"//_lastWaypointPos = waypointPosition ((waypoints _grp) select (currentWaypoint _grp));" \n
                         "" \n
                         "//private _targets = (_lastWaypointPos nearEntities [[""Man""], 400]) select {side _x == playerSide and ((leader _grp) knowsAbout _x) > 0};" \n
                         "//if (_targets isEqualto []) then {" \n
                         "//	_allowFlanking = false;" \n
                         "//};" \n
                         "" \n
                         "_flankingGrps = ([_grp, 500, _side] call pl_get_near_inf_groups) select {_x getVariable [""pl_opf_task"", ""advance""] == ""flanking""};" \n
                         "if (count _flankingGrps >= 3 or (_startUnitCount - 2) > count (units _grp)) then {" \n
                         "	_allowFlanking = false;" \n
                         "};" \n
                         "" \n
                         "" \n
                         "_targets = ((getPos (leader _grp)) nearEntities [[""Man""], 500]) select {side _x == playerSide and ((leader _grp) knowsAbout _x) > 0};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "flanking">*/
                                class flanking
                                {
                                        itemno = 47;
                                        priority = 3.000000;
                                        to="Start_Flanking_M";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"_allowFlanking"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "no_flanking_stay">*/
                                class no_flanking_stay
                                {
                                        itemno = 50;
                                        priority = 2.000000;
                                        to="dynamic_Cover_de";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"!_allowFlanking and (count _targets) >= 0;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_suppressionCycles = 0;" \n
                                         "_panicTimeout = time + 240;" \n
                                         "" \n
                                         "if (pl_debug) then {" \n
                                         "    systemchat format [""%1:no flank stay"", groupId _grp];" \n
                                         "};"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "no_flanking_move">*/
                                class no_flanking_move
                                {
                                        itemno = 49;
                                        priority = 1.000000;
                                        to="advance";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"!_allowFlanking and (count _targets) <= 0;" \n
                                         "" \n
                                         ""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_grp addWaypoint [_lastWaypointPos, 0];" \n
                                         "_panicCoverCount = 0;" \n
                                         "_suppressionCycles = 0;" \n
                                         "_oldAliveUnits = count (units _grp);" \n
                                         "" \n
                                         "if (pl_debug) then {" \n
                                         "    systemchat format [""%1:no flank move"", groupId _grp];" \n
                                         "};"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "CQB_Loop">*/
                class CQB_Loop
                {
                        name = "CQB_Loop";
                        itemno = 44;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "enemy___50m">*/
                                class enemy___50m
                                {
                                        itemno = 24;
                                        priority = 2.000000;
                                        to="advance";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count (((getPos (leader _grp)) nearEntities [[""Man""], 50]) select {side _x == playerSide and ((leader _grp) knowsAbout _x) > 0}) <= 0 or time >= _cqbTimeout;;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"[_grp] call pl_opfor_attack_closest_enemy;" \n
                                         "_grp setVariable [""pl_opf_state"", ""moving""];"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "True">*/
                                class True
                                {
                                        itemno = 46;
                                        priority = 0.000000;
                                        to="fighting";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Start_Flanking_M">*/
                class Start_Flanking_M
                {
                        name = "Start_Flanking_M";
                        itemno = 48;
                        init = /*%FSM<STATEINIT""">*/"_allowFlanking = false;" \n
                         "_flankPos = [_grp] call pl_opfor_flanking_move;" \n
                         "_grp setVariable [""pl_opf_task"", ""flanking""];" \n
                         "_time = time + 10;" \n
                         "if (pl_debug) then {" \n
                         "    systemchat format [""%1: flank"", groupId _grp];" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "below__breackingpoint">*/
                                class below__breackingpoint
                                {
                                        itemno = 7;
                                        priority = 10.000000;
                                        to="END";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"count ((units _grp) select {alive _x}) <= _breakingPoint or (_grp getVariable [""pl_opfor_retreat"", false]);"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "flankPos_reached">*/
                                class flankPos_reached
                                {
                                        itemno = 43;
                                        priority = 0.000000;
                                        to="dynamic__cover_a";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(leader _grp) distance2D _flankPos < 90 and time >= _time;"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/"_panicCoverCount = 0;" \n
                                         "_suppressionCycles = 0;" \n
                                         "_startUnitCount = count (units _grp);" \n
                                         "_oldAliveUnits = count (units _grp);" \n
                                         "_grp setCombatMode ""YELLOW"";" \n
                                         "" \n
                                         "{" \n
                                         "	_x enableAI ""AUTOCOMBAT"";" \n
                                         "	_x enableAI ""AUTOTARGET"";" \n
                                         "	_x enableAI ""TARGET"";" \n
                                         "	_x enableAI ""SUPPRESSION"";" \n
                                         "} forEach (units _grp);"/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
        };
        initState="Start";
        finalStates[] =
        {
                "END",
        };
};
/*%FSM</COMPILE>*/